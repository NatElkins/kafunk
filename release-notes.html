<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>release-notes</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="F# client for Kafka"/>
    <meta name="author" content="Jet.com"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link type="text/css" rel="stylesheet" href="/kafunk/content/style.css" />
    <script type="text/javascript" src="/kafunk/content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://fsharp.org">fsharp.org</a></li>
          <li><a href="http://github.com/jet/kafunk">github page</a></li>
        </ul>
        <h3 class="muted"><a href="/kafunk/index.html">Kafunk</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h3><a name="0-1-6-23-10-2017" class="anchor" href="#0-1-6-23-10-2017">0.1.6 - 23.10.2017</a></h3>
<ul>
<li>Cumulitive release.</li>
</ul>
<h3><a name="0-1-6-rc3-18-10-2017" class="anchor" href="#0-1-6-rc3-18-10-2017">0.1.6-rc3 - 18.10.2017</a></h3>
<ul>
<li>NEW: ConsumerInfo.consumerGroups returns information about all consumer groups in the cluster, including group members and the topics-partitions they are assgined.</li>
</ul>
<h3><a name="0-1-6-rc2-17-10-2017" class="anchor" href="#0-1-6-rc2-17-10-2017">0.1.6-rc2 - 17.10.2017</a></h3>
<ul>
<li>Producer retry without recovery when recovery not needed.</li>
<li>Ensure that Resource isn't corrupted after a failed resource recovery attempt and can be retried again.</li>
<li>Resource performance improvement.</li>
</ul>
<h3><a name="0-1-6-rc1-13-10-2017" class="anchor" href="#0-1-6-rc1-13-10-2017">0.1.6-rc1 - 13.10.2017</a></h3>
<ul>
<li>Fixed 'ConsumerProgress.progress' returning -1 for offsets when Array.empty is passed in</li>
</ul>
<h3><a name="0-1-5-11-10-2017" class="anchor" href="#0-1-5-11-10-2017">0.1.5 - 11.10.2017</a></h3>
<ul>
<li>Cumulitive release with fixes since 0.1.4</li>
</ul>
<h3><a name="0-1-5-rc6-10-10-2017" class="anchor" href="#0-1-5-rc6-10-10-2017">0.1.5-rc6 - 10.10.2017</a></h3>
<ul>
<li>Producer performance improvement</li>
</ul>
<h3><a name="0-1-5-rc5-07-10-2017" class="anchor" href="#0-1-5-rc5-07-10-2017">0.1.5-rc5 - 07.10.2017</a></h3>
<ul>
<li>BUG: Producer.produceBatched doesn't recover after transient failures</li>
</ul>
<h3><a name="0-1-5-rc4-06-10-2017" class="anchor" href="#0-1-5-rc4-06-10-2017">0.1.5-rc4 - 06.10.2017</a></h3>
<ul>
<li>BUG: race condition in consumer group join wherein multiple groups created on the same connection might prevent a group coordinator from being retrieved</li>
</ul>
<h3><a name="0-1-5-rc3-02-10-2017" class="anchor" href="#0-1-5-rc3-02-10-2017">0.1.5-rc3 - 02.10.2017</a></h3>
<ul>
<li>Adjust retry policy defaults: reduce retries to fail fast</li>
<li>Exposed internal ConsumerGroup.decodeMemberAssignment</li>
<li>Improve consumer group stability, ensuring escalation in all consumer failure modes</li>
</ul>
<h3><a name="0-1-5-rc2-27-09-2017" class="anchor" href="#0-1-5-rc2-27-09-2017">0.1.5-rc2 - 27.09.2017</a></h3>
<ul>
<li>AsyncSeq v2.0.14</li>
<li>Change offset range argument type Consumer.streamRange</li>
</ul>
<h3><a name="0-1-5-rc1-26-09-2017" class="anchor" href="#0-1-5-rc1-26-09-2017">0.1.5-rc1 - 26.09.2017</a></h3>
<ul>
<li>Added <code>Consumer.streamRange</code> to read a specified range of offsets.</li>
<li>Added <code>Consumer.periodicOffsetCommitter</code> which can help ensuring periodic offset commits when using <code>Consumer.stream</code>.</li>
<li>Logging improvements: changed some ERROR messages to WARN, added group coordinator to group related logs, caught missing partition info error</li>
<li>AsyncSeq v2.0.13</li>
</ul>
<h3><a name="0-1-4-03-08-2017" class="anchor" href="#0-1-4-03-08-2017">0.1.4 - 03.08.2017</a></h3>
<ul>
<li>Fixed <code>FetchResponse</code> <code>MessageTooBigException</code> when a message set has been compressed. (#160)</li>
</ul>
<h3><a name="0-1-4-beta-25-07-2017" class="anchor" href="#0-1-4-beta-25-07-2017">0.1.4-beta - 25.07.2017</a></h3>
<ul>
<li>Fixed v0.10.1 protocol bug for <code>Offset</code> API.</li>
<li>Fixed v0.10.1 protocol bug for <code>JoinGroup</code> API.</li>
<li>Added <code>ApiVersionsRequest</code>.</li>
<li>Added support for automatically detecting API versions via <code>ApiVersionRequest</code> using <code>KafkaConfig.autoApiVersions</code>.</li>
</ul>
<h3><a name="0-1-3-alpha-14-07-2017" class="anchor" href="#0-1-3-alpha-14-07-2017">0.1.3-alpha - 14.07.2017</a></h3>
<ul>
<li>Added ProducerResult.count indicating the number of messages produced in a batch for a partition.</li>
</ul>
<h3><a name="0-1-2-alpha-03-07-2017" class="anchor" href="#0-1-2-alpha-03-07-2017">0.1.2-alpha - 03.07.2017</a></h3>
<ul>
<li>
Fixed consumer offset commit <a href="https://github.com/jet/kafunk/issues/152">bug</a> wherein after a rebalance a consumer gets assigned a new partition
which doesn't receive any messages for longer than the offset retention period, the offsets would be lost.
This would only happen after a rebalance not after initial join.
</li>
</ul>
<h3><a name="0-1-1-alpha-25-05-2017" class="anchor" href="#0-1-1-alpha-25-05-2017">0.1.1-alpha - 25.05.2017</a></h3>
<ul>
<li>Snappy compression.</li>
<li>Fixed lag calculation bug in ConsumerInfo module.</li>
</ul>
<h3><a name="0-1-0-01-05-2017" class="anchor" href="#0-1-0-01-05-2017">0.1.0 - 01.05.2017</a></h3>
<ul>
<li>Ensure recovery during broker restart (virtual broker routing).</li>
<li>
Add Producer.produceBatched with improved API and performance:
<ul>
<li>Takes a batch of messages rather than a function returning a batch.</li>
<li>Parallelizes requests across brokers.</li>
</ul>
</li>
</ul>
<h3><a name="0-0-43-alpha001-24-04-2017" class="anchor" href="#0-0-43-alpha001-24-04-2017">0.0.43-alpha001 - 24.04.2017</a></h3>
<ul>
<li>Fix message set decompression (take 3)</li>
</ul>
<h3><a name="0-0-41-alpha001-24-04-2017" class="anchor" href="#0-0-41-alpha001-24-04-2017">0.0.41-alpha001 - 24.04.2017</a></h3>
<ul>
<li>Fix message set decompression (take 2)</li>
</ul>
<h3><a name="0-0-40-alpha001-21-04-2017" class="anchor" href="#0-0-40-alpha001-21-04-2017">0.0.40-alpha001 - 21.04.2017</a></h3>
<ul>
<li>Fix message set decompression</li>
</ul>
<h3><a name="0-0-39-alpha001-11-04-2017" class="anchor" href="#0-0-39-alpha001-11-04-2017">0.0.39-alpha001 - 11.04.2017</a></h3>
<ul>
<li>Unroll loop in producer to make more efficient</li>
<li>Request buffer pool</li>
<li>Added ZK offset migration script in tests project</li>
<li>Support v10.0.1 for Offset API</li>
<li>
BREAKING:
<ul>
<li>MessageSet tuples replaced with structs</li>
<li>ProduceRequest tuples replaced with structs</li>
<li>ProduceResponse tuples replaced with structs</li>
<li>OffsetCommitRequest added support for v1 (in addition to v0 and v2)</li>
</ul>
</li>
</ul>
<h3><a name="0-0-38-alpha001-29-03-2017" class="anchor" href="#0-0-38-alpha001-29-03-2017">0.0.38-alpha001 - 29.03.2017</a></h3>
<ul>
<li>Fix use of IVar where concurrent puts are possible</li>
<li>Fix #124</li>
<li>Fix #126</li>
</ul>
<h3><a name="0-0-37-alpha001-27-03-2017" class="anchor" href="#0-0-37-alpha001-27-03-2017">0.0.37-alpha001 - 27.03.2017</a></h3>
<ul>
<li>Fix producer bug where during recovery, messages in flight would be lost and never timeout.</li>
</ul>
<h3><a name="0-0-36-alpha001-23-03-2017" class="anchor" href="#0-0-36-alpha001-23-03-2017">0.0.36-alpha001 - 23.03.2017</a></h3>
<ul>
<li>Improve produce and fetch codec performance.</li>
<li>Fix possible deadlock with Async.AwaitTask usage.</li>
</ul>
<h3><a name="0-0-35-alpha001-08-04-2017" class="anchor" href="#0-0-35-alpha001-08-04-2017">0.0.35-alpha001 - 08.04.2017</a></h3>
<ul>
<li>Fix CRC32 check.</li>
</ul>
<h3><a name="0-0-34-alpha001-08-03-2017" class="anchor" href="#0-0-34-alpha001-08-03-2017">0.0.34-alpha001 - 08.03.2017</a></h3>
<ul>
<li>Make fetch response decoding more efficient (eliminate intermediate tuple allocations).</li>
<li>Make CRC check on fetch response configurable (defaults to true).</li>
</ul>
<h3><a name="0-0-33-alpha001-01-03-2017" class="anchor" href="#0-0-33-alpha001-01-03-2017">0.0.33-alpha001 - 01.03.2017</a></h3>
<ul>
<li>Ensure fetch errors are escalated to the top-level consumer.</li>
</ul>
<h3><a name="0-0-32-alpha001-28-02-2017" class="anchor" href="#0-0-32-alpha001-28-02-2017">0.0.32-alpha001 - 28.02.2017</a></h3>
<ul>
<li>Fix bug in ConsumerInfo module where offset information for all partitions wouldn't be retrieved and would throw during the merge.</li>
<li>Fix Async.parallel used internall for testing.</li>
</ul>
<h3><a name="0-0-31-alpha001-24-02-2017" class="anchor" href="#0-0-31-alpha001-24-02-2017">0.0.31-alpha001 - 24.02.2017</a></h3>
<ul>
<li>Allow disabling of Console logger</li>
<li>Ensure periodic offset committer commits offsets on start</li>
</ul>
<h3><a name="0-0-30-alpha001-24-02-2017" class="anchor" href="#0-0-30-alpha001-24-02-2017">0.0.30-alpha001 - 24.02.2017</a></h3>
<ul>
<li>Improve producer batching performance</li>
<li>Fix all offset commit</li>
</ul>
<h3><a name="0-0-29-alpha001-23-02-2017" class="anchor" href="#0-0-29-alpha001-23-02-2017">0.0.29-alpha001 - 23.02.2017</a></h3>
<ul>
<li>Improve producer performance</li>
<li>Improve producer error messaging</li>
</ul>
<h3><a name="0-0-28-alpha001-22-02-2017" class="anchor" href="#0-0-28-alpha001-22-02-2017">0.0.28-alpha001 - 22.02.2017</a></h3>
<ul>
<li>Commit offsets even when unchanged to prevent loss due to retention.</li>
<li>
BREAKING:
<ul>
<li>Removed ConsumerConfig.initialFetchTime, consolidated into ConsumerConfig.autoOffsetReset</li>
<li>Replaced offsetOutOfRangeAction with autoOffsetReset and new union type AutoOffsetReset</li>
</ul>
</li>
</ul>
<h3><a name="0-0-27-alpha001-16-02-2017" class="anchor" href="#0-0-27-alpha001-16-02-2017">0.0.27-alpha001 - 16.02.2017</a></h3>
<ul>
<li>Hide internal members, including Async</li>
<li>Refine fault tolerance defaults.</li>
</ul>
<h3><a name="0-0-26-alpha001-14-02-2017" class="anchor" href="#0-0-26-alpha001-14-02-2017">0.0.26-alpha001 - 14.02.2017</a></h3>
<ul>
<li>Special Valentine's day edition.</li>
<li>Refined flow for handling escalated failures.</li>
<li>Fix error code MessageSizeTooLarge.</li>
<li>Default client.id = "" rather than Guid; new Guid for connection id.</li>
<li>Expose connection, producer, consumer config.</li>
</ul>
<h3><a name="0-0-25-alpha001-10-02-2017" class="anchor" href="#0-0-25-alpha001-10-02-2017">0.0.25-alpha001 - 10.02.2017</a></h3>
<ul>
<li>Default producer to RequiredAcks.AllInSync</li>
<li>Fix range consumer partition assignment strategy</li>
</ul>
<h3><a name="0-0-24-alpha001-08-02-2017" class="anchor" href="#0-0-24-alpha001-08-02-2017">0.0.24-alpha001 - 08.02.2017</a></h3>
<ul>
<li>Adjust consumer group heartbeat defaults</li>
<li>Added AsyncSeq tests</li>
</ul>
<h3><a name="0-0-23-alpha001-08-02-2017" class="anchor" href="#0-0-23-alpha001-08-02-2017">0.0.23-alpha001 - 08.02.2017</a></h3>
<ul>
<li>Improve producer performance (batch size measurement)</li>
</ul>
<h3><a name="0-0-22-alpha001-08-02-2017" class="anchor" href="#0-0-22-alpha001-08-02-2017">0.0.22-alpha001 - 08.02.2017</a></h3>
<ul>
<li>Producer in-memory buffer in bytes</li>
<li>ConsumerInfo module for consumer progress tracking</li>
</ul>
<h3><a name="0-0-21-alpha001-07-02-2017" class="anchor" href="#0-0-21-alpha001-07-02-2017">0.0.21-alpha001 - 07.02.2017</a></h3>
<ul>
<li>Updated exampled/readme</li>
<li>
Breaking changes:
<ul>
<li>Consumer.stream drops bufferSize parameter</li>
<li>ProducerResult contains a single partition-offset pair rather than array</li>
</ul>
</li>
</ul>
<h3><a name="0-0-20-alpha001-06-02-2017" class="anchor" href="#0-0-20-alpha001-06-02-2017">0.0.20-alpha001 - 06.02.2017</a></h3>
<ul>
<li>Producer buffering by size in bytes</li>
<li>Fixex bug where producer errors weren't being surfaced</li>
<li>
Breaking changes:
<ul>
<li>ProducerConfig buffer size settings are new</li>
<li>Producer.produce takes a single message rather than array</li>
<li>Consumer.consume arguments reordered</li>
</ul>
</li>
<li>Logging improvements (more compact, more info)</li>
<li>Improved producer-consumer test</li>
</ul>
<h3><a name="0-0-19-alpha001-25-01-2017" class="anchor" href="#0-0-19-alpha001-25-01-2017">0.0.19-alpha001 - 25.01.2017</a></h3>
<ul>
<li>Producer buffering</li>
<li>Ensure cancellation propagated to consumer on group close</li>
<li>Logging improvements</li>
</ul>
<h3><a name="0-0-18-alpha001-20-01-2017" class="anchor" href="#0-0-18-alpha001-20-01-2017">0.0.18-alpha001 - 20.01.2017</a></h3>
<ul>
<li>Fix ConsumerMessageSet.lag measure</li>
<li>Propagate cancellation to consumer fetch process</li>
</ul>
<h3><a name="0-0-17-alpha001-17-01-2017" class="anchor" href="#0-0-17-alpha001-17-01-2017">0.0.17-alpha001 - 17.01.2017</a></h3>
<ul>
<li>Discovery brokers by DNS when appropriate</li>
<li>Explicit channel failure and recovery contract</li>
</ul>
<h3><a name="0-0-16-alpha001-09-01-2017" class="anchor" href="#0-0-16-alpha001-09-01-2017">0.0.16-alpha001 - 09.01.2017</a></h3>
<ul>
<li>Fix bug in assignment strategy where all available metadate were used rather than that of subscribed topic</li>
</ul>
<h3><a name="0-0-15-alpha001-09-01-2017" class="anchor" href="#0-0-15-alpha001-09-01-2017">0.0.15-alpha001 - 09.01.2017</a></h3>
<ul>
<li>Pass consumer state to consume callback (BREAKING)</li>
</ul>
<h3><a name="0-0-14-alpha001-09-01-2017" class="anchor" href="#0-0-14-alpha001-09-01-2017">0.0.14-alpha001 - 09.01.2017</a></h3>
<ul>
<li>Consumer group assignment strategies configurable</li>
</ul>
<h3><a name="0-0-13-alpha001-06-01-2017" class="anchor" href="#0-0-13-alpha001-06-01-2017">0.0.13-alpha001 - 06.01.2017</a></h3>
<ul>
<li>Refine Fetch consumer offsets API</li>
</ul>
<h3><a name="0-0-12-alpha001-06-01-2017" class="anchor" href="#0-0-12-alpha001-06-01-2017">0.0.12-alpha001 - 06.01.2017</a></h3>
<ul>
<li>Current consumer state API</li>
<li>Fetch consumer offsets API</li>
</ul>
<h3><a name="0-0-11-alpha001-05-01-2017" class="anchor" href="#0-0-11-alpha001-05-01-2017">0.0.11-alpha001 - 05.01.2017</a></h3>
<ul>
<li>Hide internal members</li>
<li>Documentation</li>
</ul>
<h3><a name="0-0-10-alpha001-04-01-2017" class="anchor" href="#0-0-10-alpha001-04-01-2017">0.0.10-alpha001 - 04.01.2017</a></h3>
<ul>
<li>Log leader-size member assignments</li>
<li>Fix consumer NotCoordinatorForGroup error recovery</li>
</ul>
<h3><a name="0-0-9-alpha001-03-01-2017" class="anchor" href="#0-0-9-alpha001-03-01-2017">0.0.9-alpha001 - 03.01.2017</a></h3>
<ul>
<li>Refine TCP error recovery</li>
</ul>
<h3><a name="0-0-8-alpha001-03-01-2017" class="anchor" href="#0-0-8-alpha001-03-01-2017">0.0.8-alpha001 - 03.01.2017</a></h3>
<ul>
<li>v0.10.1 support</li>
</ul>
<h3><a name="0-0-7-alpha001-02-01-2017" class="anchor" href="#0-0-7-alpha001-02-01-2017">0.0.7-alpha001 - 02.01.2017</a></h3>
<ul>
<li>Fix overflow bug in Partitioner.roundRobin</li>
<li>Error flow monitoring</li>
</ul>
<h3><a name="0-0-6-30-12-2016" class="anchor" href="#0-0-6-30-12-2016">0.0.6 - 30.12.2016</a></h3>
<ul>
<li>Fix bug in Async.choose</li>
<li>Consumer.commitOffsetsToTime</li>
<li>Consumer doesn't fetch offsets until its starts consuming</li>
</ul>
<h3><a name="0-0-5-30-12-2016" class="anchor" href="#0-0-5-30-12-2016">0.0.5 - 30.12.2016</a></h3>
<ul>
<li>Auto recover producer from error code 2</li>
</ul>
<h3><a name="0-0-4-29-12-2016" class="anchor" href="#0-0-4-29-12-2016">0.0.4 - 29.12.2016</a></h3>
<ul>
<li>Consumer fetch request batching by broker</li>
<li>Fix protocol codec issue for batched fetch responses</li>
<li>Periodic offset commit</li>
</ul>
<h3><a name="0-0-3-28-12-2016" class="anchor" href="#0-0-3-28-12-2016">0.0.3 - 28.12.2016</a></h3>
<ul>
<li>Fix a few reconnection/fault tolerance bugs</li>
<li>Adjust consumer api to allow offset strategies to be parameterized</li>
</ul>
<h3><a name="0-0-2-29-11-2016" class="anchor" href="#0-0-2-29-11-2016">0.0.2 - 29.11.2016</a></h3>
<ul>
<li>A more complete consumer API is now available</li>
<li>We now use FSharp.Control.AsyncSeq instead of an internal version</li>
<li>Adjustments have been made to connection recovery and general fault tolerance (still early)</li>
<li>Improvements to message grouping should improve producer throughput</li>
</ul>
<h3><a name="0-0-1-20-07-2016" class="anchor" href="#0-0-1-20-07-2016">0.0.1 - 20.07.2016</a></h3>
<ul>
<li>initial</li>
</ul>


        </div>
        <div class="span3">
          <img src="/kafunk/img/logo.png" alt="F# Project" style="width:150px;margin:10px" />  
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">Kafunk</li>
            <li><a href="/kafunk/index.html">Home page</a></li>
            <li class="divider"></li>
            <li><a href="http://nuget.org/packages/kafunk">Get Library via NuGet</a></li>
            <li><a href="http://github.com/jet/kafunk">Source Code on GitHub</a></li>
            <li><a href="/kafunk/license.html">License</a></li>
            <li><a href="/kafunk/release-notes.html">Release Notes</a></li>
            
            <li class="nav-header">Getting started</li>
            <li><a href="/kafunk/consuming.html">Consuming</a></li>
            <li><a href="/kafunk/producing.html">Producing</a></li>

            <li class="nav-header">Documentation</li>
            <li><a href="/kafunk/reference/index.html">API Reference</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/jet/kafunk"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
  </body>
  </html>
